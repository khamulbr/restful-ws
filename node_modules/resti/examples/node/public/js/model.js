(function(window) {

	'use strict';

	var app = window.app;

	function Todo(attrs) {
		if (!(this instanceof Todo)) return new Todo(attrs);
		this.attrs = attrs;
		this.api = app.api.todos.one(this.attrs._id);
		return this;
	}

	Todo.prototype.update = function(callback) {
		this.api.send(this.attrs).post(function(err, res) {
			if (err) {
				callback(err, res);
				return;
			}
			callback(null, res);
		});
		return this;
	};

	Todo.prototype.remove = function(callback) {
		this.api.remove(function(err, res) {
			if (err) {
				callback(err, res);
				return;
			}
			callback(null, res);
		});
		return this;
	};

	app.Todo = Todo;

})(window);