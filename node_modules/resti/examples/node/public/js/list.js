(function(app) {

	'use strict';

	function List() {
		if (!(this instanceof List)) return new List;
		this.init();
		return this;
	}

	List.prototype.clear = function() {
		this.input.value = '';
		return this;
	};

	List.prototype.init = function() {
		var self = this;
		this.input = app.dom.input;
		this.input.addEventListener('keyup', function(event) {
			if (event.keyCode === 13) {
				var title = event.target.value;
				app.api.todos.send({'title':title}).post(function(res) {
					if (res.ok) {
						var model = app.Todo(res.body);
						var view = app.View(model);
						self.clear();
					}
				})
			}
		})
	};

	app.List = List;

})(window.app);