(function(window) {

	'use strict';

	var app = window.app = (window.app || {});

	app.todos = [];

	app.api = new resti('api');
	app.api.todos = app.api.many('todos');

	app.dom = {};
	app.dom.list = document.querySelector('#todolist');
	app.dom.input = document.querySelector('#todoinput');

	app.init = function() {
        app.List();
		app.api.todos.get(function(res) {
			if (res.ok) {
				for (var i = 0, l = res.body.length; i < l; i++) {
					var attrs = res.body[i];
					var model = app.Todo(attrs);
					var view = app.View(model);
				}
			}
		});
	}

})(window);